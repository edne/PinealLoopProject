(alias bg       background)
(alias black-bg bg 0 0 0 1)

(alias triangle polygon 3)
(alias square polygon 4)
(alias circle polygon 50)

(black-bg)


;(def r (sin (time)))
(def r 1)


(draw-changes (circle 0.5)
              (scale 0.5 0.5 0.5)
              (no-fill)
              (scale 0.5 1 1))


'(on level-1
     (@ (background 1 1 1 0)
        (draw-change (cube 1)
                     (no-fill)
                     (line-width 1)
                     (color 0 1 1 1.0)
                     (turn-x 1)
                     (turn-y 1)
                     (rotate-x (-> (time (/ pi 4)) (% 2pi)))
                     )))

'(level-1)


'(draw-changes (polygon 3 0.5)
               (no-fill)
               (color 0 1 0 1)
               (line-width 2))

'(at (beat 1 0.5)
     (draw-changes (polygon 3 0.25)
                   (no-fill)
                   (translate 0 0.5 0)
                   (color 0 1 0 1)
                   (turn-z 3)
                   (line-width 2)))

;(at (beat 4 2) (level-1))

'(draw-changes (cube 1.8)
               (line-width 2)
               (no-fill)
               (color 1 1 1 1)
               (line-width 4)
               (turn-z 64)
               (turn-y 16)
               (rotate-y (-> (time (/ pi 4)) (% 2pi)))
               )
