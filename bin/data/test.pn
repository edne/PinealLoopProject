(alias bg       background)
(alias black-bg bg 0 0 0 1)

(def r (-> (time 8)
         (sin) (* 0.1) (+ 1.5)))

(value rot (% (time 4) 2pi))

(black-bg)

(on level-1
    (@ (background 1 1 1 0)
       (-@> (cube 0.5)
            (no-fill)
            (line-width 1)
            (color 0 1 1 1.0)
            (turn-x 16)
            (turn-y 13)
            (rotate-x (-> (time (/ pi 4)) (% 2pi)))
            )))

'(if (beat) (level-1))

(-@> (polygon 3 0.25)
     (line-width 2))

(if (onset)
  (-@> (polygon 3 0.25)
       (translate 0.5)
       (color 1 1 1 0.4)
       (turn-z 3)
       (line-width 4)))

'(-@> (cube 0.8)
      (no-fill)
      (color 1 1 1 0.4)
      (line-width 1)
      (turn-z 64)
      (turn-y 16)
      (rotate-y (-> (time (/ pi 4)) (% 2pi)))
      )

'(-@> (@ (-@> (cube 1)
              (rotate-x (rot)))
         (-@> (cube 1)
              (rotate-x (rot -1)))
         (-@> (cube 1)
              (rotate-y (rot)))
         (-@> (cube 1)
              (rotate-y (rot -1))))

      (turn 30)
      (no-fill)
      (color 0 1 0 1))
