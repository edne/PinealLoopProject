(background 0 0 0 1)

;(def amp (pValue (rms)))

(draw (group [(cube [] [(line-width 4)
                        (turn-z 16)
                        (hide)
                        (color [1])])

              (polygon [4] [(scale [0.25])
                             (line-width 4)
                             (rotate-x (amp 8))
                             (hide)
                             (color [0 1 1])])

              (cube [(amp 1)] [(at-beat 4 1 0)
                               (line-width 4)
                               (translate [(amp)])
                               (turn-z 16)])

              (cube [(amp 1)] [(at-beat 4 1 1)
                               (translate [(amp)])
                               (turn-z 32)])

              (cube [(amp 2)] [(at-beat 4 1 2)
                               (translate [(amp)])
                               (turn-z 16)])

              (cube [(amp 1)] [(at-beat 4 1 3)
                               (translate [(amp)])
                               (turn-z 64)])]

             [(line-width 2)
              (no-fill)
              (color [1 (amp 4)])]
             )
      )
